{
  "entities": {
    "TeamMember": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TeamMember",
      "type": "object",
      "description": "Represents a team member of the GDG SPECM Website.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the TeamMember entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the team member."
        },
        "role": {
          "type": "string",
          "description": "Role of the team member within the GDG SPECM team."
        },
        "bio": {
          "type": "string",
          "description": "Short biography of the team member."
        },
        "socialLinks": {
          "type": "array",
          "description": "An array of social media links for the team member.",
          "items": {
            "type": "string"
          }
        },
        "imageURL": {
          "type": "string",
          "description": "URL of the team member's profile picture."
        }
      },
      "required": [
        "id",
        "name",
        "role",
        "bio",
        "socialLinks"
      ]
    },
    "StudentProgress": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "StudentProgress",
      "type": "object",
      "description": "Represents the progress of a student on the leaderboard.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the StudentProgress entry."
        },
        "studentName": {
          "type": "string",
          "description": "Name of the student."
        },
        "studentId": {
          "type": "string",
          "description": "Id of student."
        },
        "progressValue": {
          "type": "number",
          "description": "The student's progress value or score."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of the last progress update.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "studentName",
        "progressValue",
        "timestamp"
      ]
    },
    "FileUpload": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FileUpload",
      "type": "object",
      "description": "Represents the uploaded file information and its processing status.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the FileUpload entry."
        },
        "fileName": {
          "type": "string",
          "description": "Name of the uploaded file."
        },
        "uploadTimestamp": {
          "type": "string",
          "description": "Timestamp of when the file was uploaded.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Status of the file processing (e.g., uploaded, processing, completed, failed)."
        },
        "processedRecords": {
          "type": "number",
          "description": "The number of records processed from the file."
        },
        "failureReason": {
          "type": "string",
          "description": "If upload fails, the reason is captured."
        }
      },
      "required": [
        "id",
        "fileName",
        "uploadTimestamp",
        "status"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/team_members/{teamMemberId}",
        "definition": {
          "entityName": "TeamMember",
          "schema": {
            "$ref": "#/backend/entities/TeamMember"
          },
          "description": "Stores information about team members.  Publicly readable.",
          "params": [
            {
              "name": "teamMemberId",
              "description": "Unique identifier for the team member."
            }
          ]
        }
      },
      {
        "path": "/student_progress/{studentProgressId}",
        "definition": {
          "entityName": "StudentProgress",
          "schema": {
            "$ref": "#/backend/entities/StudentProgress"
          },
          "description": "Stores student progress data for the leaderboard.  Publicly readable.",
          "params": [
            {
              "name": "studentProgressId",
              "description": "Unique identifier for the student progress entry."
            }
          ]
        }
      },
      {
        "path": "/file_uploads/{fileUploadId}",
        "definition": {
          "entityName": "FileUpload",
          "schema": {
            "$ref": "#/backend/entities/FileUpload"
          },
          "description": "Stores file upload metadata. Only accessible by admins. Admins are determined by presence in `/roles_admin/{uid}`.",
          "params": [
            {
              "name": "fileUploadId",
              "description": "Unique identifier for the file upload."
            }
          ]
        }
      },
      {
        "path": "/roles_admin/{userId}",
        "definition": {
          "entityName": "roles_admin",
          "schema": {
            "$ref": "#/backend/entities/FileUpload"
          },
          "description": "Documents in this collection denote admin roles. Existence of document is sufficient; content is ignored.",
          "params": [
            {
              "name": "userId",
              "description": "User ID of the admin."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to be secure, scalable, and easily debuggable, adhering to the core principles of Authorization Independence, Clarity of Intent, DBAC (Database-Based Access Control), and QAPs (Rules are not Filters). It incorporates denormalization where necessary to avoid hierarchical authorization dependencies, and segregates data based on access needs to maintain a homogeneous security posture. The structure employs consistent access modeling patterns, leveraging path-based ownership and membership maps for collaborative data. The file uploads collection has role-based access control so that it is only accessible by admins."
  }
}